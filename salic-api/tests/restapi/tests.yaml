---
- config:
    - testset: "SALIC API TESTS"
    - timeout: 2000

- test:
    - name: "Basic get"
    - url: "/test"

- test:
  - name: "Json Content"
  - url: "/alpha/projetos/?limit=1"
  - headers: {accept: 'application/json'}
  - validators:
     - compare: {header: "content-type", comparator: contains, expected: 'application/json'}

- test:
  - name: "XML Content"
  - url: "/alpha/projetos/?limit=1"
  - headers: {accept: 'application/xml'}
  - validators:
     - compare: {header: "content-type", comparator: contains, expected: 'application/xml'}

- test:
  - name: "CSV Content"
  - url: "/alpha/projetos/?limit=1"
  - headers: {accept: 'text/csv'}
  - validators:
     - compare: {header: "content-type", comparator: contains, expected: 'text/csv'}

- test:
  - name: "Projetos Detalhe"
  - url: "/alpha/projetos/090001/"
  - validators:
        - json_schema: {schema: {file: 'schemas/projeto_detail.json'}}

- test:
  - name: "Projeto Lista"
  - url: "/alpha/projetos/?limit=1"
  - validators:
        - json_schema: {schema: {file: 'schemas/projeto_list.json'}}

- test:
  - name: "Incentivadores"
  - url: "/alpha/incentivadores/?limit=1"
  - validators:
        - json_schema: {schema: {file: 'schemas/incentivador.json'}}

- test:
  - name: "Proponentes"
  - url: "/alpha/proponentes/?limit=1"
  - validators:
        - json_schema: {schema: {file: 'schemas/proponente.json'}}

- test:
  - name: "Captacoes"
  - url: "/alpha/projetos/090006/captacoes/"
  - validators:
        - json_schema: {schema: {file: 'schemas/captacao.json'}}

- test:
  - name: "Segmentos"
  - url: "/alpha/projetos/segmentos/"
  - validators:
        - json_schema: {schema: {file: 'schemas/segmentos.json'}}

- test:
  - name: "Areas"
  - url: "/alpha/projetos/areas/"
  - validators:
        - json_schema: {schema: {file: 'schemas/areas.json'}}

- test:
  - name: "Pre Projetos"
  - url: "/alpha/preprojetos/?limit=1"
